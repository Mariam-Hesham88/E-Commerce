<section class="py-4">
    <div class="row d-flex justify-content-center align-content-center">
        <div class="col-md-6 bg-main-light p-2 my-4 rounded-3">
            <h1 class="h2 text-main py-3 text-bold">Login Now</h1>
            <form [formGroup]="loginForm" (ngSubmit)="loginSumbit()">

                <div class="m-2">
                    <label for="email">Email :</label>
                    <input
                        [ngClass]="{
                            'is-valid': !loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty),
                            'is-invalid': loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty)}"
                        type="email" id="email" formControlName="email" class="form-control">
                    @if(loginForm.get('email')?.errors && (loginForm.get('email')?.touched ||
                    loginForm.get('email')?.dirty)){
                    <div class="alert alert-danger">
                        @if(loginForm.get('email')?.getError('required')){
                        <p class="m-0">Email Is Required</p>
                        }
                        @else if(loginForm.get('email')?.getError('email')){
                        <p class="m-0">Enter Valid Email</p>
                        }
                    </div>
                    }
                </div>

                <div class="m-2">
                    <label for="password">Password :</label>
                    <input
                        [ngClass]="{
                'is-valid': !loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty),
                'is-invalid': loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty)}"
                        type="password" id="password" formControlName="password" class="form-control">
                    @if(loginForm.get('password')?.errors && (loginForm.get('password')?.touched ||
                    loginForm.get('password')?.dirty)){
                    <div class="alert alert-danger">
                        @if(loginForm.get('password')?.getError('required')){
                        <p class="m-0">Password Is Required</p>
                        }
                        @else if(loginForm.get('password')?.getError('pattern')){
                        <p class="m-0">must be at least 6 chars</p>
                        }
                    </div>
                    }
                </div>

                <div class="d-flex justify-content-around">
                    <a routerLink="/forget" class="text-main me-auto ps-3 ">Forget Password</a>
                    <button [disabled]="loginForm.invalid || isloading" type="submit"
                        class="btn btn-main ms-auto pe-3">
                        LogIn
                        @if(isloading){
                        <span>
                            <i class="fa fa-spin fa-spinner"></i>
                        </span>
                        }
                    </button>
                </div>

                @if(errorMsg){
                <p class="alert alert-danger m-0">{{errorMsg}}</p>
                }

                @if(successMsg){
                <p class="alert alert-success">Your Registeration is Success</p>
                }
            </form>
        </div>
    </div>
</section>